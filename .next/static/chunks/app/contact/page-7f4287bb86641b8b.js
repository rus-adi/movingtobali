(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[327],{5661:function(e,a,t){Promise.resolve().then(t.t.bind(t,231,23)),Promise.resolve().then(t.bind(t,3664))},3664:function(e,a,t){"use strict";t.d(a,{default:function(){return i}});var n=t(7437),s=t(2265);function i(e){let{topic:a,from:t,partnerSlug:i,partnerName:l,fallbackMailto:r}=e,[o,d]=(0,s.useState)("idle"),[c,u]=(0,s.useState)(r),[m,p]=(0,s.useState)(""),[g,h]=(0,s.useState)(""),[y,v]=(0,s.useState)(""),[f,x]=(0,s.useState)(""),[j,b]=(0,s.useState)(""),[w,S]=(0,s.useState)(""),[k,_]=(0,s.useState)(""),[C,N]=(0,s.useState)(""),T=(0,s.useMemo)(()=>l?"Intro request: ".concat(l):i?"Intro request":"Contact",[l,i]);function P(e,a){try{"function"==typeof window.gtag&&window.gtag("event",e,a),"function"==typeof window.plausible&&window.plausible(e,{props:a})}catch(e){}}async function F(e){if(e.preventDefault(),p(""),!y.trim()||!k.trim()){d("error"),p("Please include at least your email and a short message."),P("contact_submit_error",{topic:a,partner:i||"",reason:"missing_fields"});return}d("submitting"),P("contact_submit_attempt",{topic:a,partner:i||""});try{let e=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:a,from:t,partnerSlug:i,name:g,email:y,whatsapp:f,kidsAges:j,timeline:w,message:k,company:C})}),n=await e.json().catch(()=>({}));if(!e.ok||!(null==n?void 0:n.ok)){let e=(null==n?void 0:n.error)||"Something went wrong. Please email us instead.";(null==n?void 0:n.fallbackMailto)&&u(n.fallbackMailto),d("error"),p(e),P("contact_submit_error",{topic:a,partner:i||"",reason:(null==n?void 0:n.code)||"unknown"});return}d("success"),P("contact_submit_success",{topic:a,partner:i||"",mode:(null==n?void 0:n.mode)||"unknown"})}catch(e){d("error"),p("Network error. Please email us instead."),P("contact_submit_error",{topic:a,partner:i||"",reason:"network"})}}return(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("strong",{children:T}),(0,n.jsx)("p",{style:{marginTop:10,color:"var(--muted)"},children:"Share a few details and we’ll reply with next steps. If you’re requesting an intro, we’ll ask the partner if they can take new families."}),(0,n.jsxs)("form",{onSubmit:F,style:{marginTop:14,display:"grid",gap:12},"aria-label":"Contact form",children:[(0,n.jsxs)("div",{style:{display:"grid",gap:6},children:[(0,n.jsx)("label",{htmlFor:"name",style:{fontSize:13,color:"var(--muted)"},children:"Full name (optional)"}),(0,n.jsx)("input",{id:"name",name:"name",value:g,onChange:e=>h(e.target.value),autoComplete:"name",className:"input"})]}),(0,n.jsxs)("div",{style:{display:"grid",gap:6},children:[(0,n.jsx)("label",{htmlFor:"email",style:{fontSize:13,color:"var(--muted)"},children:"Email (required)"}),(0,n.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:y,onChange:e=>v(e.target.value),autoComplete:"email",className:"input"})]}),(0,n.jsxs)("div",{style:{display:"grid",gap:6},children:[(0,n.jsx)("label",{htmlFor:"whatsapp",style:{fontSize:13,color:"var(--muted)"},children:"WhatsApp / phone (optional)"}),(0,n.jsx)("input",{id:"whatsapp",name:"whatsapp",type:"tel",value:f,onChange:e=>x(e.target.value),autoComplete:"tel",className:"input"})]}),(0,n.jsxs)("div",{className:"grid2",style:{gap:12},children:[(0,n.jsxs)("div",{style:{display:"grid",gap:6},children:[(0,n.jsx)("label",{htmlFor:"kidsAges",style:{fontSize:13,color:"var(--muted)"},children:"Kids’ ages (optional)"}),(0,n.jsx)("input",{id:"kidsAges",name:"kidsAges",value:j,onChange:e=>b(e.target.value),placeholder:"e.g., 3 and 7",className:"input"})]}),(0,n.jsxs)("div",{style:{display:"grid",gap:6},children:[(0,n.jsx)("label",{htmlFor:"timeline",style:{fontSize:13,color:"var(--muted)"},children:"Timeline (optional)"}),(0,n.jsx)("input",{id:"timeline",name:"timeline",value:w,onChange:e=>S(e.target.value),placeholder:"e.g., moving in June, staying 6 months",className:"input"})]})]}),(0,n.jsxs)("div",{style:{display:"grid",gap:6},children:[(0,n.jsx)("label",{htmlFor:"message",style:{fontSize:13,color:"var(--muted)"},children:"Message (required)"}),(0,n.jsx)("textarea",{id:"message",name:"message",value:k,onChange:e=>_(e.target.value),rows:6,className:"input"})]}),(0,n.jsxs)("div",{style:{display:"none"},"aria-hidden":"true",children:[(0,n.jsx)("label",{htmlFor:"company",children:"Company"}),(0,n.jsx)("input",{id:"company",name:"company",value:C,onChange:e=>N(e.target.value),className:"input"})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:10,flexWrap:"wrap",alignItems:"center"},children:[(0,n.jsx)("button",{className:"button primary",type:"submit",disabled:"submitting"===o,"data-track":"contact_submit_click","data-topic":a,children:"submitting"===o?"Sending…":"Send message"}),(0,n.jsx)("a",{className:"button secondary",href:c,"data-track":"contact_fallback_mailto","data-topic":a,children:"Email instead"})]}),(0,n.jsxs)("div",{style:{marginTop:6,fontSize:13,color:"var(--muted)"},children:["By sending this form, you agree to our ",(0,n.jsx)("a",{href:"/privacy",children:"Privacy Policy"}),"."]}),"success"===o?(0,n.jsxs)("div",{className:"card",style:{marginTop:6,borderColor:"rgba(134,239,172,0.35)"},children:[(0,n.jsx)("strong",{children:"Received."}),(0,n.jsx)("div",{style:{marginTop:8,color:"var(--muted)"},children:"Thanks — we’ll respond by email as soon as we can."})]}):null,"error"===o?(0,n.jsxs)("div",{className:"card",style:{marginTop:6,borderColor:"rgba(251,113,133,0.35)"},children:[(0,n.jsx)("strong",{children:"Couldn’t send."}),(0,n.jsx)("div",{style:{marginTop:8,color:"var(--muted)"},children:m||"Please try again or email us directly."})]}):null]})]})}}},function(e){e.O(0,[231,971,23,744],function(){return e(e.s=5661)}),_N_E=e.O()}]);